# Generated by using Rcpp::compileAttributes() -> do not edit by hand
# Generator token: 10BE3573-1514-4C36-9D1C-5A225CD40393

#' **utilize functions**
#' @name utilis
NULL

#' @rdname utilis
#' @param vec_Data (vector of num / int) data
#' @param int_Index (vector of int) index of subset
#' @export
subset_get <- function(vec_Data, int_Index) {
    .Call(`_WaterGAP3_subset_get`, vec_Data, int_Index)
}

#' @rdname utilis
#' @export
subset_get_logical <- function(vec_Data, int_Index) {
    .Call(`_WaterGAP3_subset_get_logical`, vec_Data, int_Index)
}

#' @rdname utilis
#' @param vec_DataPut (vector of num / int) data, to refresh
#' @export
subset_put <- function(vec_Data, int_Index, vec_DataPut) {
    invisible(.Call(`_WaterGAP3_subset_put`, vec_Data, int_Index, vec_DataPut))
}

#' @rdname utilis
#' @param vec_DataAdd (vector of num / int) data, to refresh
#' @export
subset_add <- function(vec_Data, int_Index, vec_DataAdd) {
    invisible(.Call(`_WaterGAP3_subset_add`, vec_Data, int_Index, vec_DataAdd))
}

#' WaterGAP3
#' @name WaterGAP3_H
#' @inheritParams all_vari
#' @inheritParams process
#' @return streamflow m3
#' @export
WaterGAP3_H <- function(n_time, n_spat, ATMOS_precipitation_mm, ATMOS_temperature_Cel, ATMOS_potentialEvatrans_mm, Upstream_cellNumber_int, Upstream_streamflow_m3, SNOW_ice_mm, LAND_builtRatio_1, LAND_interceptWater_mm, LAND_interceptCapacity_mm, SOIL_water_mm, SOIL_capacity_mm, SOIL_potentialPercola_mm, GROUND_water_mm, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, CELL_landArea_km2, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, param_ATMOS_thr_Ts, param_SNOW_fac_f, param_SNOW_fac_Tmelt, param_EVATRANS_sup_k, param_EVATRANS_sup_gamma, param_EVATRANS_wat_petmax, param_INFILT_hbv_beta, param_PERCOLA_wat_01, param_PERCOLA_wat_k, param_PERCOLA_wat_thresh, param_BASEFLOW_sur_k, if_allVariExport = FALSE) {
    .Call(`_WaterGAP3_WaterGAP3_H`, n_time, n_spat, ATMOS_precipitation_mm, ATMOS_temperature_Cel, ATMOS_potentialEvatrans_mm, Upstream_cellNumber_int, Upstream_streamflow_m3, SNOW_ice_mm, LAND_builtRatio_1, LAND_interceptWater_mm, LAND_interceptCapacity_mm, SOIL_water_mm, SOIL_capacity_mm, SOIL_potentialPercola_mm, GROUND_water_mm, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, CELL_landArea_km2, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, param_ATMOS_thr_Ts, param_SNOW_fac_f, param_SNOW_fac_Tmelt, param_EVATRANS_sup_k, param_EVATRANS_sup_gamma, param_EVATRANS_wat_petmax, param_INFILT_hbv_beta, param_PERCOLA_wat_01, param_PERCOLA_wat_k, param_PERCOLA_wat_thresh, param_BASEFLOW_sur_k, if_allVariExport)
}

#' WaterGAP3
#' @name WaterGAP3_HL
#' @inheritParams all_vari
#' @inheritParams process
#' @param param_Evalake_vic_gamma same as param_EVATRANS_vic_gamma
#' @return streamflow m3
#' @export
WaterGAP3_HL <- function(n_time, n_spat, ATMOS_precipitation_mm, ATMOS_temperature_Cel, ATMOS_potentialEvatrans_mm, Upstream_cellNumber_int, Upstream_streamflow_m3, SNOW_ice_mm, LAND_builtRatio_1, LAND_interceptWater_mm, LAND_interceptCapacity_mm, SOIL_water_mm, SOIL_capacity_mm, SOIL_potentialPercola_mm, GROUND_water_mm, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, CELL_landArea_km2, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, Lake_cellNumber_int, Lake_water_m3, Lake_area_km2, Lake_capacity_m3, Riverlak_cellNumber_int, Riverlak_water_m3, Riverlak_area_km2, Riverlak_capacity_m3, param_ATMOS_thr_Ts, param_SNOW_fac_f, param_SNOW_fac_Tmelt, param_EVATRANS_sup_k, param_EVATRANS_sup_gamma, param_EVATRANS_wat_petmax, param_INFILT_hbv_beta, param_PERCOLA_wat_01, param_PERCOLA_wat_k, param_PERCOLA_wat_thresh, param_BASEFLOW_sur_k, param_Evalake_vic_gamma, param_Lake_acp_storeFactor, param_Lake_acp_gamma, param_Riverlak_lin_storeFactor, if_allVariExport = FALSE) {
    .Call(`_WaterGAP3_WaterGAP3_HL`, n_time, n_spat, ATMOS_precipitation_mm, ATMOS_temperature_Cel, ATMOS_potentialEvatrans_mm, Upstream_cellNumber_int, Upstream_streamflow_m3, SNOW_ice_mm, LAND_builtRatio_1, LAND_interceptWater_mm, LAND_interceptCapacity_mm, SOIL_water_mm, SOIL_capacity_mm, SOIL_potentialPercola_mm, GROUND_water_mm, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, CELL_landArea_km2, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, Lake_cellNumber_int, Lake_water_m3, Lake_area_km2, Lake_capacity_m3, Riverlak_cellNumber_int, Riverlak_water_m3, Riverlak_area_km2, Riverlak_capacity_m3, param_ATMOS_thr_Ts, param_SNOW_fac_f, param_SNOW_fac_Tmelt, param_EVATRANS_sup_k, param_EVATRANS_sup_gamma, param_EVATRANS_wat_petmax, param_INFILT_hbv_beta, param_PERCOLA_wat_01, param_PERCOLA_wat_k, param_PERCOLA_wat_thresh, param_BASEFLOW_sur_k, param_Evalake_vic_gamma, param_Lake_acp_storeFactor, param_Lake_acp_gamma, param_Riverlak_lin_storeFactor, if_allVariExport)
}

#' WaterGAP3
#' @name WaterGAP3_HLR
#' @inheritParams all_vari
#' @inheritParams process
#' @param param_Evalake_vic_gamma same as param_EVATRANS_vic_gamma
#' @return streamflow m3
#' @export
WaterGAP3_HLR <- function(n_time, n_spat, ATMOS_precipitation_mm, ATMOS_temperature_Cel, ATMOS_potentialEvatrans_mm, SNOW_ice_mm, LAND_builtRatio_1, LAND_interceptWater_mm, LAND_interceptCapacity_mm, SOIL_water_mm, SOIL_capacity_mm, SOIL_potentialPercola_mm, GROUND_water_mm, GROUND_capacity_mm, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, CELL_landArea_km2, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, Lake_cellNumber_int, Lake_water_m3, Lake_area_km2, Lake_capacity_m3, Riverlak_cellNumber_int, Riverlak_water_m3, Riverlak_area_km2, Riverlak_capacity_m3, Reservoi_cellNumber_int, Reservoi_water_m3, Reservoi_area_km2, Reservoi_capacity_m3, Reservoi_demand_m3, Reservoi_yearInflow_m3, Reservoi_yearDemand_m3, Reservoi_yearRelase_m3, Reservoi_isOperateStart_01, Reservoi_isIrrigate_01, param_ATMOS_thr_Ts, param_SNOW_fac_f, param_SNOW_fac_Tmelt, param_EVATRANS_sup_k, param_EVATRANS_sup_gamma, param_EVATRANS_wat_petmax, param_INFILT_hbv_beta, param_PERCOLA_wat_01, param_PERCOLA_wat_k, param_PERCOLA_wat_thresh, param_BASEFLOW_sur_k, param_Evalake_vic_gamma, param_Lake_acp_storeFactor, param_Lake_acp_gamma, param_Riverlak_lin_storeFactor, param_Reservoi_han_alpha, param_Reservoi_han_kDemand, if_allVariExport = FALSE) {
    .Call(`_WaterGAP3_WaterGAP3_HLR`, n_time, n_spat, ATMOS_precipitation_mm, ATMOS_temperature_Cel, ATMOS_potentialEvatrans_mm, SNOW_ice_mm, LAND_builtRatio_1, LAND_interceptWater_mm, LAND_interceptCapacity_mm, SOIL_water_mm, SOIL_capacity_mm, SOIL_potentialPercola_mm, GROUND_water_mm, GROUND_capacity_mm, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, CELL_landArea_km2, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, Lake_cellNumber_int, Lake_water_m3, Lake_area_km2, Lake_capacity_m3, Riverlak_cellNumber_int, Riverlak_water_m3, Riverlak_area_km2, Riverlak_capacity_m3, Reservoi_cellNumber_int, Reservoi_water_m3, Reservoi_area_km2, Reservoi_capacity_m3, Reservoi_demand_m3, Reservoi_yearInflow_m3, Reservoi_yearDemand_m3, Reservoi_yearRelase_m3, Reservoi_isOperateStart_01, Reservoi_isIrrigate_01, param_ATMOS_thr_Ts, param_SNOW_fac_f, param_SNOW_fac_Tmelt, param_EVATRANS_sup_k, param_EVATRANS_sup_gamma, param_EVATRANS_wat_petmax, param_INFILT_hbv_beta, param_PERCOLA_wat_01, param_PERCOLA_wat_k, param_PERCOLA_wat_thresh, param_BASEFLOW_sur_k, param_Evalake_vic_gamma, param_Lake_acp_storeFactor, param_Lake_acp_gamma, param_Riverlak_lin_storeFactor, param_Reservoi_han_alpha, param_Reservoi_han_kDemand, if_allVariExport)
}

#' This function implements a calibration algorithm based on the Direct Search method.
#'
#' It attempts to find the optimal parameter values that minimize the given objective (fitness) function.
#'
#' @param fitness A function handle to the objective function that returns a numeric value
#' @param lst_OtherData A list of other data that may be passed to the fitness function
#' @param x_Min A NumericVector of lower bounds for each parameter
#' @param x_Max A NumericVector of upper bounds for each parameter
#' @param x_Init An optional initial solution (NumericVector), if NULL, the midpoint of `x_Min` and `x_Max` is used
#' @param max_iter The maximum number of iterations to perform (default is 100)
#' @param r The perturbation factor (default is 0.2)
#'
#' @return A List containing:
#'   - `x_Best`: The best parameter set found during the search
#'   - `y_Best`: The corresponding objective value of the best parameter set
#'
#' @export
cali_DDS <- function(fitness, lst_OtherData, x_Min, x_Max, x_Init = NULL, max_iter = 100L, r = 0.2) {
    .Call(`_WaterGAP3_cali_DDS`, fitness, lst_OtherData, x_Min, x_Max, x_Init, max_iter, r)
}

#' Hydrological Process
#' @name process
#' @inheritParams all_vari
#' @return ATMOS_snow_mm (mm/m2/TS) snowfall volume
#' @param param_ATMOS_thr_Ts <-1, 3> (Cel) threshold air temperature that snow, parameter for [atmosSnow_ThresholdT()]
#' @export
atmosSnow_ThresholdT <- function(ATMOS_precipitation_mm, ATMOS_temperature_Cel, param_ATMOS_thr_Ts) {
    .Call(`_WaterGAP3_atmosSnow_ThresholdT`, ATMOS_precipitation_mm, ATMOS_temperature_Cel, param_ATMOS_thr_Ts)
}

#' @rdname process
#' @param param_EVATRANS_tur_k <0.6, 1> parameter for [evatransPotential_TurcWendling()], higher value when closer to the sea
#' @return potential evapotranspiration (mm/m2)
#' @export
evatransPotential_TurcWendling <- function(ATMOS_temperature_Cel, ATMOS_solarRadiat_MJ, param_EVATRANS_tur_k) {
    .Call(`_WaterGAP3_evatransPotential_TurcWendling`, ATMOS_temperature_Cel, ATMOS_solarRadiat_MJ, param_EVATRANS_tur_k)
}

#' @rdname process
#' @export
intercep_Full <- function(ATMOS_precipitation_mm, LAND_interceptWater_mm, LAND_interceptCapacity_mm) {
    .Call(`_WaterGAP3_intercep_Full`, ATMOS_precipitation_mm, LAND_interceptWater_mm, LAND_interceptCapacity_mm)
}

#' @rdname process
#' @param param_EVATRANS_sup_k <0.1, 1> parameter for [evatransActual_SupplyPow()], ratio of this method
#' @param param_EVATRANS_sup_gamma <.1, 5> parameter for [evatransActual_SupplyPow()], exponent of this method
#' @export
evatransActual_SupplyPow <- function(ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_sup_k, param_EVATRANS_sup_gamma) {
    .Call(`_WaterGAP3_evatransActual_SupplyPow`, ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_sup_k, param_EVATRANS_sup_gamma)
}

#' @rdname process
#' @param param_EVATRANS_sur_k <0.1, 1> parameter for [evatransActual_SupplyRatio()], ratio of potential ET, that is estimated as actually ET
#' @export
evatransActual_SupplyRatio <- function(ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_sur_k) {
    .Call(`_WaterGAP3_evatransActual_SupplyRatio`, ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_sur_k)
}

#' @rdname process
#' @param param_EVATRANS_wat_petmax <10, 20> parameter for [evatransActual_WaterGAP()], 10 for arid area, 20 for humid area
#' @export
evatransActual_WaterGAP3 <- function(ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_wat_petmax) {
    .Call(`_WaterGAP3_evatransActual_WaterGAP3`, ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_wat_petmax)
}

#' @rdname process
#' @param param_EVATRANS_vic_gamma <0.2, 5> parameter for [evatransActual_VIC()]
#' @export
evatransActual_VIC <- function(ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_vic_gamma) {
    .Call(`_WaterGAP3_evatransActual_VIC`, ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_vic_gamma)
}

#' @rdname process
#' @param param_EVATRANS_ubc_gamma <0.5, 2> parameter for [evatransActual_UBC()]
#' @export
evatransActual_UBC <- function(ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_ubc_gamma) {
    .Call(`_WaterGAP3_evatransActual_UBC`, ATMOS_potentialEvatrans_mm, water_mm, capacity_mm, param_EVATRANS_ubc_gamma)
}

#' @rdname process
#' @param param_SNOW_fac_Tmelt <0, 3> (Cel) snow melt temperature parameter for [snowMelt_Factor()]
#' @param param_SNOW_fac_f <0.05, 2> (mm/m2/h/Cel) potential melt volum per Cel per hour parameter for [snowMelt_Factor()]
#' @export
snowMelt_Factor <- function(SNOW_ice_mm, ATMOS_temperature_Cel, param_SNOW_fac_f, param_SNOW_fac_Tmelt) {
    .Call(`_WaterGAP3_snowMelt_Factor`, SNOW_ice_mm, ATMOS_temperature_Cel, param_SNOW_fac_f, param_SNOW_fac_Tmelt)
}

#' @rdname process
#' @export
landLeafAreaIndex_WaterGAP3 <- function(ATMOS_temperature_Cel, ATMOS_precipitation_mm, CELL_latitude_deg, LAND_growUpDay_d, LAND_leafAreaIndexMin_, LAND_leafAreaIndexMax_, Time_dayOfYear_d) {
    .Call(`_WaterGAP3_landLeafAreaIndex_WaterGAP3`, ATMOS_temperature_Cel, ATMOS_precipitation_mm, CELL_latitude_deg, LAND_growUpDay_d, LAND_leafAreaIndexMin_, LAND_leafAreaIndexMax_, Time_dayOfYear_d)
}

#' @rdname process
#' @param param_INFILT_hbv_beta <0.001, 5> parameters for [infilt_HBV()]
#' @export
infilt_HBV <- function(LAND_water_mm, SOIL_water_mm, SOIL_capacity_mm, param_INFILT_hbv_beta) {
    .Call(`_WaterGAP3_infilt_HBV`, LAND_water_mm, SOIL_water_mm, SOIL_capacity_mm, param_INFILT_hbv_beta)
}

#' @rdname process
#' @param param_PERCOLA_arn_thresh <0.1, 0.9> coefficient parameter for [percola_Arno()]
#' @param param_PERCOLA_arn_k <0.1, 1> exponential parameter for [percola_Arno()]
#' @export
percola_Arno <- function(SOIL_water_mm, SOIL_capacity_mm, SOIL_potentialPercola_mm, param_PERCOLA_arn_thresh, param_PERCOLA_arn_k) {
    .Call(`_WaterGAP3_percola_Arno`, SOIL_water_mm, SOIL_capacity_mm, SOIL_potentialPercola_mm, param_PERCOLA_arn_thresh, param_PERCOLA_arn_k)
}

#' @rdname process
#' @param param_PERCOLA_wat_01 <0, 1> 0: percolation, 1: non percolation [percola_WaterGAP3()]
#' @param param_PERCOLA_wat_thresh <10, 15> coefficient parameter for [percola_WaterGAP3()]
#' @param param_PERCOLA_wat_k <0.1, 1> exponential parameter for [percola_WaterGAP3()]
#' @export
percola_WaterGAP3 <- function(Land_water_mm, SOIL_potentialPercola_mm, param_PERCOLA_wat_01, param_PERCOLA_wat_thresh, param_PERCOLA_wat_k) {
    .Call(`_WaterGAP3_percola_WaterGAP3`, Land_water_mm, SOIL_potentialPercola_mm, param_PERCOLA_wat_01, param_PERCOLA_wat_thresh, param_PERCOLA_wat_k)
}

#' @rdname process
#' @param param_BASEFLOW_grf_gamma <2, 7> exponential parameter for [baseflow_GR4Jfix()]
#' @export
baseflow_GR4Jfix <- function(GROUND_water_mm, GROUND_capacity_mm, param_BASEFLOW_grf_gamma) {
    .Call(`_WaterGAP3_baseflow_GR4Jfix`, GROUND_water_mm, GROUND_capacity_mm, param_BASEFLOW_grf_gamma)
}

#' @rdname process
#' @param param_BASEFLOW_sur_k <0.01, 1> coefficient parameter for [baseflow_SupplyRatio()]
#' @export
baseflow_SupplyRatio <- function(GROUND_water_mm, param_BASEFLOW_sur_k) {
    .Call(`_WaterGAP3_baseflow_SupplyRatio`, GROUND_water_mm, param_BASEFLOW_sur_k)
}

#' @rdname process
#' @param param_Lake_acp_storeFactor <uknow> parameter for [lake_AcceptPow()],
#' @param param_Lake_acp_gamma <uknow> parameter for [lake_AcceptPow()],
#' @return outflow (m3)
#' @export
lake_AcceptPow <- function(Lake_water_m3, Lake_capacity_m3, param_Lake_acp_storeFactor, param_Lake_acp_gamma) {
    .Call(`_WaterGAP3_lake_AcceptPow`, Lake_water_m3, Lake_capacity_m3, param_Lake_acp_storeFactor, param_Lake_acp_gamma)
}

#' @rdname process
#' @export
river_LinearResorvoir <- function(RIVER_water_m3, RIVER_inflow_m3, RIVER_velocity_km, RIVER_length_km) {
    .Call(`_WaterGAP3_river_LinearResorvoir`, RIVER_water_m3, RIVER_inflow_m3, RIVER_velocity_km, RIVER_length_km)
}

#' @rdname process
#' @param param_Riverlak_lin_storeFactor <uknow> parameter for [riverlak_LinearResorvoir()],
#' @export
riverlak_LinearResorvoir <- function(Riverlak_water_m3, Riverlak_inflow_m3, Riverlak_capacity_m3, param_Riverlak_lin_storeFactor) {
    .Call(`_WaterGAP3_riverlak_LinearResorvoir`, Riverlak_water_m3, Riverlak_inflow_m3, Riverlak_capacity_m3, param_Riverlak_lin_storeFactor)
}

#' @rdname process
#' @param param_Reservoi_han_alpha <uknow> parameter for [reservoi_Hanasaki()],
#' @param param_Reservoi_han_kDemand <uknow> parameter for [reservoi_Hanasaki()],
#' @return outflow (m3)
#' @export
reservoi_Hanasaki <- function(Reservoi_water_m3, Reservoi_inflow_m3, Reservoi_capacity_m3, Reservoi_demand_m3, Reservoi_yearInflow_m3, Reservoi_yearDemand_m3, Reservoi_yearRelase_m3, Reservoi_isOperateStart_01, Reservoi_isIrrigate_01, param_Reservoi_han_alpha, param_Reservoi_han_kDemand) {
    .Call(`_WaterGAP3_reservoi_Hanasaki`, Reservoi_water_m3, Reservoi_inflow_m3, Reservoi_capacity_m3, Reservoi_demand_m3, Reservoi_yearInflow_m3, Reservoi_yearDemand_m3, Reservoi_yearRelase_m3, Reservoi_isOperateStart_01, Reservoi_isIrrigate_01, param_Reservoi_han_alpha, param_Reservoi_han_kDemand)
}

#' @rdname process
#' @export
confluen_WaterGAP3 <- function(RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, RIVER_outflow_m3, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int) {
    .Call(`_WaterGAP3_confluen_WaterGAP3`, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, RIVER_outflow_m3, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int)
}

#' @rdname process
#' @export
confluen_WaterGAP3_L <- function(RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, RIVER_outflow_m3, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, Riverlak_cellNumber_int, Riverlak_water_m3, Riverlak_capacity_m3, param_Riverlak_lin_storeFactor) {
    .Call(`_WaterGAP3_confluen_WaterGAP3_L`, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, RIVER_outflow_m3, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, Riverlak_cellNumber_int, Riverlak_water_m3, Riverlak_capacity_m3, param_Riverlak_lin_storeFactor)
}

#' @rdname process
#' @export
confluen_WaterGAP3_LR <- function(CONFLUEN_cellInflow_m3, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, Riverlak_cellNumber_int, Riverlak_water_m3, Riverlak_capacity_m3, Reservoi_cellNumber_int, Reservoi_water_m3, Reservoi_capacity_m3, Reservoi_demand_m3, Reservoi_yearInflow_m3, Reservoi_yearDemand_m3, Reservoi_yearRelase_m3, Reservoi_isOperateStart_01, Reservoi_isIrrigate_01, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, param_Riverlak_lin_storeFactor, param_Reservoi_han_alpha, param_Reservoi_han_kDemand) {
    .Call(`_WaterGAP3_confluen_WaterGAP3_LR`, CONFLUEN_cellInflow_m3, RIVER_water_m3, RIVER_length_km, RIVER_velocity_km, Riverlak_cellNumber_int, Riverlak_water_m3, Riverlak_capacity_m3, Reservoi_cellNumber_int, Reservoi_water_m3, Reservoi_capacity_m3, Reservoi_demand_m3, Reservoi_yearInflow_m3, Reservoi_yearDemand_m3, Reservoi_yearRelase_m3, Reservoi_isOperateStart_01, Reservoi_isIrrigate_01, CELL_cellNumberStep_int, CELL_inflowCellNumberStep_int, param_Riverlak_lin_storeFactor, param_Reservoi_han_alpha, param_Reservoi_han_kDemand)
}

#' @rdname routingtopology
#' @name get_inflow_cells
#' @title Get Inflow Cells
#' @description This function calculates inflow cells based on the outflow vector.
#' @param int_Outflow (vector of int) The cell number of the next cell. The cell number must range from 1 to the length of the cells.
#' If the cell has no outflow, the number should be set to itself.
#' @return A list where each element is an IntegerVector containing the inflow cells for each cell.
#' @export
get_inflow_cells <- function(int_Outflow) {
    .Call(`_WaterGAP3_get_inflow_cells`, int_Outflow)
}

#' @rdname routingtopology
#' @name get_inflow_lastcell
#' @title Get Inflow Last Cell Matrix
#' @description This function creates a matrix of inflow cells for each cell based on the outflow vector.
#' @return A NumericMatrix where each row corresponds to a cell, and each column represents an inflow cell.
#' @export
get_inflow_lastcell <- function(int_Outflow) {
    .Call(`_WaterGAP3_get_inflow_lastcell`, int_Outflow)
}

#' @rdname routingtopology
#' @title Get Step Parameters
#' @description This function returns a list of step cells and the corresponding last cell matrices.
#' @return A list containing the step cells and last cell matrices.
#' @export
get_routing_info <- function(int_Outflow) {
    .Call(`_WaterGAP3_get_routing_info`, int_Outflow)
}

#' @rdname routingtopology
#' @param lst_Inflow_Cell A list of integer vectors, where each vector contains the cells that flow into the respective cell.
#' @param int_OutLet An integer representing the outlet cell (1-based index).
#' @param int_TestCell An integer vector, cells to test.
#' @return An integer vector of cells in the intersection of the station cells and the basin.
#' @export
get_cell_in_basin <- function(lst_Inflow_Cell, int_OutLet, int_TestCell) {
    .Call(`_WaterGAP3_get_cell_in_basin`, lst_Inflow_Cell, int_OutLet, int_TestCell)
}

#' @rdname routingtopology
#' @param int_UpstreamCell An integer vector containing the upstream cells to find the upstream basin.
#' @return An integer vector representing the new upstream basin, which includes the upstream cells and the set difference of the basin cells.
#' This function identifies the upstream basin of a given outlet cell by first finding the intersection of the upstream cells
#' with the cells that flow into the outlet. It then computes the set difference between the upstream basin and the outlet basin.
#' @export
get_inter_basin <- function(lst_Inflow_Cell, int_OutLet, int_UpstreamCell) {
    .Call(`_WaterGAP3_get_inter_basin`, lst_Inflow_Cell, int_OutLet, int_UpstreamCell)
}

#' @rdname routingtopology
#' @param int_Outflow_Ori An integer vector representing the original outflow indices (1-based).
#' @param int_CellNew An integer vector representing the cells within the new basin.
#' @return An integer vector of the new outflow indices adjusted for the sub-basin.
#' @export
get_new_outflow <- function(int_Outflow_Ori, int_CellNew) {
    .Call(`_WaterGAP3_get_new_outflow`, int_Outflow_Ori, int_CellNew)
}

#' @rdname routingtopology
#' @param int_CaliCell An integer vector of calibration cells.
#' @return A list of integer vectors (`lst_Step_Cali`), where each element represents calibration cells at a specific step.
#' @export
get_cali_step <- function(lst_Inflow_Cell, int_CaliCell) {
    .Call(`_WaterGAP3_get_cali_step`, lst_Inflow_Cell, int_CaliCell)
}

#' @rdname routingtopology
#' @return A list of integer vectors (`lst_Step_Cali`), where each element represents calibration cells at a specific step.
#' @export
get_upstream_cali_cell <- function(lst_Inflow_Cell, int_CaliCell) {
    .Call(`_WaterGAP3_get_upstream_cali_cell`, lst_Inflow_Cell, int_CaliCell)
}

# Register entry points for exported C++ functions
methods::setLoadAction(function(ns) {
    .Call(`_WaterGAP3_RcppExport_registerCCallable`)
})
